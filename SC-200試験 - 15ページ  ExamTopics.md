質問14 トピック3

ある企業ではAzure Sentinelを使用しています。  
脅威への自動対応システムを構築する必要があります。  
何を使用すべきでしょうか？  

- A. データコネクタ
- B. プレイブック
- C. ワークブック
- D. Microsoftのインシデント作成ルール

**正解：** B [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
Sentinelで脅威への自動対応（SOAR）を構築するための機能です。
**「プレイブック (Playbooks)」**: Azure Logic Appsをベースとしており、インシデント発生時やアラート発生時に自動的に実行される一連のアクション（ユーザーブロック、チケット起票、通知など）を定義します。

質問15 トピック3

Azure Sentinel を使用して、Azure の不規則なアクティビティを監視します。  
次の図に示すように、脅威を検出するためのカスタム分析ルールを作成します。  
![](https://www.examtopics.com/assets/media/exam-media/04261/0012100001.jpg)  
ルール定義の一部としてインシデント設定は定義しません。  
図に示されている情報に基づき、ドロップダウンメニューを使用して各文を完成させる選択肢を選択してください。  
注: 正解は1つにつき1点です。  
ホットエリア:  
![](https://www.examtopics.com/assets/media/exam-media/04261/0012200001.png)  

**解説:**
提供された Azure Sentinel（Microsoft Sentinel）の分析ルール設定に基づくと、正解は以下の通りです。

### 1つ目の文の回答

**文:** 「If a user deploys three Azure virtual machines simultaneously, how many times will you receive **[0 alerts]** in the next five hours.」 （1人のユーザーが3台の仮想マシンを同時にデプロイした場合、今後5時間以内にアラートを**0回**受信します。）

- **理由:** クエリ内に `| make-series ... by Caller` という句があります。これは、アクティビティを**実行者（Caller）ごと**にグループ化して1行にまとめることを意味します。1人のユーザーが何台デプロイしても、クエリ結果として返されるのは**1行（1つの結果）**のみです。
    
- アラートのしきい値（Alert threshold）が「Generate alert when number of query results **Is greater than 2**（クエリ結果の数が2より大きい場合）」に設定されているため、結果が1行だけでは条件を満たさず、アラートは発生しません。
    
---
### 2つ目の文の回答

**文:** 「If three separate users deploy one Azure virtual machine each within five minutes of each other, you will receive **[1 alert]** .」 （3人の別々のユーザーがそれぞれ1台の仮想マシンを5分以内にデプロイした場合、アラートを**1回**受信します。）

- **理由:** 3人の異なるユーザー（Callers）が操作を行うため、クエリ結果にはユーザーごとの行が計**3行**生成されます。
    
- 3行の結果はしきい値の「2より大きい」という条件を満たすため、アラートがトリガーされます。
    
- ただし、設定の下部にある抑制（Suppression）が **On** になっており、「Stop running query for **5 Hours**（5時間停止）」と設定されています。そのため、一度アラートが出るとその後5時間はクエリが実行されず、追加のアラートは送信されません。

質問16 トピック3

米国東部AzureリージョンにAzure Sentinelをデプロイしています。  
米国西部AzureリージョンにLogsWestというLog Analyticsワークスペースを作成します。  
既存のAzure Sentinelデプロイでスケジュールされた分析ルールを使用して、LogsWestへのクエリに基づいてアラートを生成できることを確認する必要があります。  
まず何をすべきでしょうか？  

- A. Azure Data Catalog を米国西部 Azure リージョンにデプロイします。
- B. 既存の Azure Sentinel デプロイのワークスペース設定を変更します。
- C. Azure Sentinel をワークスペースに追加します。
- D. Azure Sentinel でデータ コネクタを作成します。

**正解：** C [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
別リージョン（米国西部）のLog Analyticsワークスペース（LogsWest）に対し、既存のSentinel（米国東部）からクエリを実行してアラートを生成するための要件です。
**「Azure Sentinel をワークスペースに追加します」**: クロスワークスペースクエリを実行し、その結果に基づいてSentinelのアラートを生成する場合、対象のワークスペース（LogsWest）にもSentinelが有効化されていることが推奨される構成（マルチワークスペース構成）です。
※技術的には、Log Analyticsへのアクセス権があれば `workspace('LogsWest').SecurityEvent` のようにクエリするだけでデータ自体は参照可能ですが、Sentinelの分析ルールとして統合的に管理・運用する文脈では、対象ワークスペースもSentinel管理下に置く（ソリューション追加）のが一般的です。正解Cはその手順を指しています。

質問17 トピック3

Azure Sentinel で脅威を検出するためのカスタム分析ルールを作成しました。  
ルールが断続的に失敗することがわかりました。  
この失敗の原因として考えられる 2 つの点は何ですか？正解はそれぞれ解決策の一部を示しています。  
注: 正解は 1 つにつき 1 ポイントです。  

- A. ルール クエリの実行に時間がかかりすぎて、タイムアウトになります。
- B. ターゲットワークスペースが削除されました。
- C. ルール クエリのデータ ソースへのアクセス許可が変更されました。
- D. データソースとLog Analytics間の接続に問題がある

**正解：** AD [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
カスタム分析ルールが「断続的 (intermittently)」に失敗する原因です。
**A. ルール クエリの実行に時間がかかりすぎて、タイムアウトになります**: クエリが非効率であったり、データ量が多すぎたりする場合、実行がタイムアウト（Transient failure）し、断続的な失敗として記録されます。
**D. データソースとLog Analytics間の接続に問題がある**: データソース側の一時的な接続不良なども、クエリ実行時のデータ取得失敗（断続的なエラー）につながる可能性があります。
※C「権限が変更されました」やB「ワークスペースが削除されました」は、通常「永続的な失敗 (Permanent failure)」となり、ルールは「AUTO DISABLED」として無効化されます。設問の「断続的」という表現からはAとDが適切です。

質問18 トピック3

注: この質問は、同じシナリオを提示する一連の質問の一部です。一連の質問にはそれぞれ、定められた目標を達成できる可能性のある独自の解決策が含まれています。一部の質問セットには複数の正解がある場合もあれば、正解がない場合もあります。  
このセクションの質問に回答した後は、その質問に戻ることはできません。そのため、これらの質問はレビュー画面に表示されません。Azure Sentinel を構成しています。  
悪意のある IP アドレスからの Azure 仮想マシンへのサインインが検出された場合、Azure Sentinel でインシデントを作成する必要があります。  
解決策: データコネクタのスケジュールされたクエリ ルールを作成します。  
これは目標を達成していますか?  

- A. はい
- B. いいえ

### 正解: **B. いいえ**

### 理由:

質問文には「**データコネクタ**のスケジュールされたクエリルールを作成する」と記載されていますが、これは正しいアプローチではありません。

**正しいアプローチ:**
悪意のあるIPアドレスからのサインインを検出してインシデントを作成するには、以下を行う必要があります:

1. **データコネクタを設定** - まずデータソース(Azure仮想マシンのログなど)をSentinelに接続
2. **分析ルール(Analytics Rule)でスケジュールされたクエリルールを作成** - データコネクタではなく、**Analyticsセクション**でスケジュールされたクエリルールを作成

### 正しい手順:
Microsoft Learn のドキュメントによると:
```
1. Microsoft Sentinel で「Analytics」を選択
2. 「+Create」> 「Scheduled query rule」を選択
3. クエリを作成(例: 悪意のあるIPアドレスからのサインインを検出)
4. 「Incident settings」タブで「Create incidents from alerts triggered by this analytics rule」を有効化
```
### 重要なポイント:

- **データコネクタ**: データソースをSentinelに接続するためのもの(ログの収集)
- **スケジュールされたクエリルール**: **Analyticsルール**として作成し、検出されたイベントからアラートとインシデントを生成

質問19 トピック3

注: この質問は、同じシナリオを提示する一連の質問の一部です。一連の質問にはそれぞれ、定められた目標を達成できる可能性のある独自の解決策が含まれています。質問セットによっては、複数の正解が存在する場合もあれば、正解が存在しない場合もあります。  
このセクションの質問に回答した後は、その質問に戻ることはできません。そのため、これらの質問はレビュー画面に表示されません。Azure Sentinel を構成しています。  
悪意のある IP アドレスからの Azure 仮想マシンへのサインインが検出された場合、Azure Sentinel でインシデントを作成する必要があります。  
解決策: ハンティングブックマークを作成します。  
これは目標を達成していますか?  

- A. はい
- B. いいえ

**正解：** B [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
**「ハンティングブックマークを作成します」**: ブックマークは、脅威ハンティング中に気になったデータやクエリ結果を保存・タグ付けして、後で調査するために使用する機能です。自動的にインシデントを作成する機能ではありません。したがって、目標は達成されません。

質問#20 トピック3

注: この質問は、同じシナリオを提示する一連の質問の一部です。一連の質問にはそれぞれ、定められた目標を達成できる可能性のある独自の解決策が含まれています。一部の質問セットには複数の正解がある場合もあれば、正解がない場合もあります。  
このセクションの質問に回答した後は、その質問に戻ることはできません。そのため、これらの質問はレビュー画面に表示されません。Azure Sentinel を構成しています。  
悪意のある IP アドレスからの Azure 仮想マシンへのサインインが検出された場合、Azure Sentinel でインシデントを作成する必要があります。  
解決策: データコネクタ用の Microsoft インシデント作成ルールを作成します。  
これは目標を達成していますか?  

- A. はい
- B. いいえ

**正解：** B [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
**「データコネクタ用の Microsoft インシデント作成ルールを作成します」**: このルールは、接続されたMicrosoftセキュリティ製品（例：Microsoft Defender for Cloud, Azure AD Identity Protectionなど）で生成されたアラートを、自動的にSentinelのインシデントに変換するためのものです。
もし、前提として「Azure AD Identity Protectionが既に悪意のあるIPを検知してくれる」環境であればこれは正解（Yes）になります。しかし、設問文にはそのような前提がなく、Sentinelで独自に検出するニュアンスであれば、やはりScheduled Query Ruleでロジックを組む必要があります。
ここでも正解は **B (いいえ)** とされています。これは「Sentinel自身で検知ルールを作る」という文脈（前の設問からの流れ）において、既成のアラート取り込みルールでは要件（独自の検出）を満たせない、という判断かもしれません。

質問#34 トピック3

注: この質問は、同じシナリオを提示する一連の質問の一部です。一連の質問にはそれぞれ、定められた目標を達成できる可能性のある独自の解決策が含まれています。質問セットによっては、複数の正解が存在する場合もあれば、正解が存在しない場合もあります。  
このセクションの質問に回答した後は、その質問に戻ることはできません。そのため、これらの質問はレビュー画面に表示されません。Azure Sentinel を構成しています。  
悪意のある IP アドレスからの Azure 仮想マシンへのサインインが検出された場合、Azure Sentinel でインシデントを作成する必要があります。  
解決策: クエリからライブストリームを作成します。  
これは目標を達成していますか?  

- A. はい
- B. いいえ

**正解:** B [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/17/#)  
参考:  
<https://docs.microsoft.com/en-us/azure/sentinel/connect-azure-security-center>

**解説:**
悪意のあるIPからのサインインを検出し、**インシデントを作成する**ことが目標です。
**「クエリからライブストリームを作成します」**: ライブストリームはリアルタイムの監視ツールであり、アラートやインシデントを自動生成する機能ではありません。したがって、目標は達成されません。インシデントを作成するには「スケジュールされたクエリールール」を作成する必要があります。

質問#21 トピック3

Azure Active Directory (Azure AD) の異常なサインインアクティビティを追跡し、そのアクティビティを日ごとに集計したタイムチャートとして表示するカスタム Azure Sentinel クエリを作成する予定です。  
タイムチャートを表示するためのクエリを作成する必要があります。  
クエリにはどのような情報を含めるべきですか？  

- A. 延長する
- B. ビン
- C. メイクセット
- D. ワークスペース

**正解：** B [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
KQLクエリで時系列チャート（Timechart）を表示するためにデータを集計する際に不可欠な関数です。
**「bin (ビン)」**: `summarize count() by bin(TimeGenerated, 1d)` のように使用し、時間を一定の間隔（1日、1時間など）に丸めてグループ化します。これにより、グラフ描画に適した時系列データを作成できます。

質問#22 トピック3

Azure Sentinel を構成しています。  
疑わしい IP アドレスからのサインインが検出されるたびに、Microsoft Teams メッセージをチャネルに送信する必要があります。Azure Sentinel で実行する必要がある 2 つのアクションはどれですか？ 正解はそれぞれ解答の一部です。  
注: 正解は 1 点です。  

- A. プレイブックを追加します。
- B. プレイブックをインシデントに関連付けます。
- C. エンティティ動作分析を有効にします。
- D. ワークブックを作成します。
- E. Fusion ルールを有効にします。

**正解：** AB [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
疑わしいIPからのサインイン検出時にTeams通知を送る自動化の設定です。

1. **A. プレイブックを追加します**: Teamsへのメッセージ送信アクションを含むLogic App（プレイブック）を作成します。
2. **B. プレイブックをインシデントに関連付けます**: 作成したプレイブックを、分析ルールの「自動化 (Automation)」タブ設定、または「自動化ルール (Automation rule)」の設定で、インシデント発生時に実行されるように関連付けます。

質問#23 トピック3

Azure Sentinel データを視覚化し、サードパーティのデータソースを使用してデータを拡充し、侵害の兆候 (IoC) を特定する必要があります。  
何を使用すればよいでしょうか？  

- A. Azure Sentinel のノートブック
- B. Microsoft クラウド アプリ セキュリティ
- C. Azure モニター
- D. Azure Sentinel でのクエリの検索

**正解：** A [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/15/#)  

**解説:**
高度な可視化、サードパーティデータによる拡充（Enrichment）、IoCの特定を行うための機能です。
**「Azure Sentinel のノートブック (Notebooks)」**: Jupyter Notebooks統合機能です。プログラミング言語（Pythonなど）とライブラリ（MSTICPyなど）を使用して、標準機能では難しい複雑なデータ分析、外部APIを使ったデータ拡充、カスタム可視化、機械学習モデルによるIoC特定などを柔軟に行うことができます。
