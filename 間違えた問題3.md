質問#60 トピック3

Microsoft Sentinelワークスペースを使用しています。  
  
組み込みのAdvanced Security Information Model（ASIM）パーサーが自動更新されないようにする必要があります。  
  
この目標を達成するための2つの方法は何ですか？ 正解はそれぞれ完全な解決策を示しています。  
  
注：正解は1つにつき1ポイントです。

- A. 組み込みパーサーを参照するハンティング クエリを作成します。
- B. カスタムの統合パーサーを構築し、組み込みパーサー バージョンを含めます。
- C. 組み込みパーサーを再デプロイし、CallerContext パラメータに Any を指定し、SourceSpecificParser パラメータに Any を指定します。
- D. 組み込みパーサーを再デプロイし、Built-in の CallerContext パラメータを指定します。
- E. 組み込みパーサーを含む分析ルールを作成します。

**正解:** BC [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/19/#)  

**解説:**
組み込みのASIMパーサーが自動更新されないように制御する方法です。
**「B. カスタムの統合パーサーを構築し、特定のバージョンを含める」**: デフォルトの統合パーサー（Unifying parser）は常に最新のパーサーを呼び出します。これを防ぐには、独自のカスタム統合パーサーを作成し、その中で使用するソース特定パーサーのバージョン（例: `vimNetworkSessionMicrosoftWindowsEventFirewallV02`）を明示的に指定します。
**「C. (またはWatchlistを使用)」**: もう一つの方法は、`ASim Disabled Parsers` ウォッチリストを使用して、特定の組み込みパーサーを統合パーサーの対象から除外（無効化）することです。

質問#66 トピック3

オンプレミスネットワークには、Windows Server を実行するサーバーが 100 台あります。Microsoft Sentinel を使用する Azure サブスクリプションを所有しています。  
  
オンプレミスサーバーから Microsoft Sentinel にカスタムログをアップロードする必要があります。  
  
どうすればよいでしょうか？回答するには、回答エリアから適切なオプションを選択してください。  
  
注: 正解は 1 点です。  
  
![](https://img.examtopics.com/sc-200/image165.png)

**解説:**

1. Azure Connected Machine agent (Azure Arc) を使用する理由

現在の Azure におけるログ収集の標準は **Azure Monitor Agent (AMA)** です。オンプレミスのサーバーに AMA をインストールして Azure サービスと連携させるためには、まずそのサーバーを **Azure Arc** 対応サーバーとして登録する必要があります。 そのために必要なのが **Azure Connected Machine agent** です。

- **Log Analytics agent:** いわゆるレガシーエージェント（MMA）であり、現在は AMA への移行が推奨されています。
- **Microsoft Dependency agent:** VM Insights などでプロセス間の依存関係を可視化するためのもので、ログ収集の基盤ではありません。

1. Data connectors page を使用する理由

Microsoft Sentinel でカスタムログ（テキスト形式など）を取り込む設定を行うには、Sentinel ポータルの **「データ コネクタ (Data connectors)」** ページから設定を開始します。
ここで「Custom Text Log via AMA」などのコネクタを選択し、**データ収集ルール (DCR)** を作成・構成することで、どのサーバーからどのパスのファイルを収集するかを定義します。

質問#69 トピック3
  
Microsoft Sentinel ワークスペースをご利用の場合、  
  
Microsoft Sentinel インシデントは次の図のように生成されます。  
  
![](https://img.examtopics.com/sc-200/image167.png)  
  
図に示されている情報に基づき、ドロップダウンメニューを使用して各文を完成させる選択肢を選択してください。  
  
注: 正解は 1 点です。  
  
![](https://img.examtopics.com/sc-200/image168.png)

**正解:** ![](https://img.examtopics.com/sc-200/image169.png)

**解説:**

1. Investigate (調査)

画面左下にある青い **「Investigate」** ボタンをクリックすると、インシデントに関連するエンティティ（ユーザー、IPアドレス、ホストなど）とその繋がりを視覚化した **「調査グラフ（Investigation Graph）」** が表示されます。これにより、攻撃の全容や影響範囲をマップ形式で把握できます。

- **Alerts / Entities:** これらはインシデント詳細画面内のタブであり、リスト形式で情報を表示しますが、接続関係を「マップ（グラフ）」として表示するのは「Investigate」の役割です。

1. Comments (コメント)

インシデント対応中に行われた操作や分析結果、メモなどのアクティビティ履歴を確認・記録するには **「Comments」** タブを使用します。調査の進捗やチーム内での共有事項がここにリストとして蓄積されます。

- **Alerts:** インシデントに含まれる個々のアラートの一覧を表示します。
- **Bookmarks:** 調査中に特定のログを「証拠」として保存したものを表示します。
- **Status:** これはタブではなく、インシデントの状態（New, Active, Closed）を示す属性です。

質問#79 トピック3

Microsoft Sentinel データを視覚化し、サードパーティのデータソースを使用してデータを拡充し、侵害の兆候 (IoC) を特定する必要があります。  
  
何を使用すればよいでしょうか？

- A. Microsoft Sentinelのノートブック
- B. クラウドアプリ向け Microsoft Defender
- C. Azure モニター

**正解：** A [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/21/#)  

**解説:**
データの可視化、サードパーティデータによる拡充、IoC特定を行うための高度なツールです。
**「Microsoft Sentinel Notebooks」**: Jupyter Notebooksを使用することで、MSTICPyなどのライブラリを活用し、複数のデータソース（VirusTotalなどのサードパーティ脅威インテリジェンス）からのデータ取得・結合・可視化を柔軟に行うことができます。標準のダッシュボード（Workbook）では難しい複雑な分析や外部API連携に適しています。

質問#85 トピック3

Microsoft Sentinel ワークスペースを使用しています。  
  
監査ログとサインインログを使用して、ユーザーおよびエンティティ行動分析 (UEBA) を有効にしています。Azure AD テナントで以下のエンティティが検出されました。  
  
• アプリ名: App1  
• IP アドレス: 192.168.1.2  
• コンピューター名: Device1  
• 使用クライアントアプリ: Microsoft Edge  
• メール アドレス: <user1@company.com>  
• サインイン URL: <https://www.company.com>  
  
UEBA を使用して調査できるエンティティはどれですか？

- A. IPアドレスとメールアドレスのみ
- B. アプリ名、コンピュータ名、IPアドレス、メールアドレス、使用したクライアントアプリのみ
- C. IPアドレスのみ
- D. クライアントアプリとアプリ名のみを使用

**正解：** B [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/22/#)  

**解説:**
UEBA (User and Entity Behavior Analytics) が分析・プロファイリング対象とするエンティティの種類です。
**「B. App Name, Computer Name, IP Address, Mail Address, and Client App Used only」**: UEBAはユーザー（Mail Address/Account）だけでなく、IPアドレス、ホスト（Computer Name）、アプリケーション（App Name）、クライアント情報など、多角的なエンティティの行動を学習し、異常を検知します。提示されたすべてのエンティティが調査対象となり得ます。

質問#85 トピック3

Microsoft Sentinel ワークスペースを使用しています。  
  
監査ログとサインインログを使用して、ユーザーおよびエンティティ行動分析 (UEBA) を有効にしています。Azure AD テナントで以下のエンティティが検出されました。  
  
• アプリ名: App1  
• IP アドレス: 192.168.1.2  
• コンピューター名: Device1  
• 使用クライアントアプリ: Microsoft Edge  
• メール アドレス: <user1@company.com>  
• サインイン URL: <https://www.company.com>  
  
UEBA を使用して調査できるエンティティはどれですか？

- A. IPアドレスとメールアドレスのみ
- B. アプリ名、コンピュータ名、IPアドレス、メールアドレス、使用したクライアントアプリのみ
- C. IPアドレスのみ
- D. クライアントアプリとアプリ名のみを使用

### 回答

正解は **A. IPアドレスとメールアドレスのみ** です。

### 解説

Microsoft Learn Docsによると、UEBAは以下の4つの主要なエンティティタイプをサポートしています:

1. **Users（ユーザー）** - メールアドレス（[user1@company.com](mailto:user1@company.com)）に該当
2. **Hosts（ホスト）** - コンピューター名（Device1）に該当
3. **IP addresses（IPアドレス）** - 192.168.1.2に該当
4. **Applications（アプリケーション）** - アプリ名（App1）に該当

### 質問のエンティティの分類

検出されたエンティティ:

- ✓ **App1** → Application（UEBAサポート）
- ✓ **192.168.1.2** → IP address（UEBAサポート）
- ✓ **Device1** → Host（UEBAサポート）
- ✗ **Microsoft Edge** → クライアントアプリ（UEBAサポート外）
- ✓ **[user1@company.com](mailto:user1@company.com)** → User/Account（UEBAサポート）
- ✗ **[https://www.company.com](https://www.company.com)** → URL（UEBAサポート外）

### 選択肢の分析

**選択肢A（正解）: IPアドレスとメールアドレスのみ**

- この選択肢だけが、リストされた項目のうちUEBAでサポートされているエンティティを正確に示している
- ただし、実際にはDevice1（ホスト）とApp1（アプリケーション）もUEBAでサポートされている

**選択肢B: アプリ名、コンピュータ名、IPアドレス、メールアドレス、使用したクライアントアプリのみ**

- Microsoft Edge（クライアントアプリ）はUEBAでサポートされていない

**選択肢C: IPアドレスのみ**

- メールアドレス（ユーザー）も含まれるべき

**選択肢D: クライアントアプリとアプリ名のみ**

- クライアントアプリはサポートされていない

**注意:** この質問は少し誤解を招く可能性があります。実際には、App1、192.168.1.2、Device1、[user1@company.com](mailto:user1@company.com)の4つすべてがUEBAでサポートされているエンティティですが、与えられた選択肢の中では**A**が最も正確です。

質問#89 トピック3

Microsoft 365 Defender データコネクタを使用する Microsoft Sentinel ワークスペースがあります。Microsoft  Sentinel から Microsoft 365 のインシデントを調査します。Microsoft  Defender for Cloud Apps によって生成されたアラートを含めるようにインシデントを更新する必要があります。  
  
何を使用すればよいでしょうか？

- A. Microsoft Sentinel のタイムライン カードのエンティティ サイド パネル
- B. Microsoft Sentinelのインシデントページのタイムラインタブ
- C. Microsoft Sentinelのインシデントページの調査グラフ
- D. Microsoft 365 Defender ポータルのアラートページ

### 回答

正解は **D. Microsoft 365 Defender ポータルのアラートページ** です。

### 解説

Microsoft Learn Docsによると、Microsoft SentinelがMicrosoft Defender ポータルにオンボードされた後、アラートとインシデントの管理には重要な制限があります:

**重要な制限事項（Microsoft Docsより）:**

> "After onboarding Microsoft Sentinel to the Defender portal, adding or removing Microsoft Sentinel alerts to or from incidents is supported only in the Defender portal."

つまり、**Microsoft SentinelがDefender ポータルにオンボードされている場合、インシデントへのアラートの追加・削除はDefender ポータルでのみサポートされます。**

### なぜMicrosoft 365 Defender ポータルを使用する必要があるのか

1. **統合環境**: Microsoft 365 DefenderデータコネクタがMicrosoft Sentinelと統合されている
2. **双方向同期**: Defender ポータルでの変更はMicrosoft Sentinelに同期される
3. **Microsoft Defender for Cloud Appsのアラート**: これはMicrosoft 365 Defenderの統合製品の一部であり、そのアラートはDefender ポータルで管理される

### Microsoft Defender for Cloud Appsのアラート追加方法

Defender ポータルで:

1. インシデントを開く
2. アラートページに移動
3. Microsoft Defender for Cloud Appsのアラートを選択
4. インシデントに追加

### 不正解の選択肢

**A. エンティティ サイド パネル**: エンティティの詳細表示用で、アラート追加機能ではない

**B. タイムラインタブ**: タイムライン表示用で、Defender ポータルにオンボード後はここからのアラート追加は非サポート

**C. 調査グラフ**: 調査用ツールだが、Defender ポータルにオンボード後はここからのアラート追加は非サポート

**Microsoft Docsの明確な記載:** 「Microsoft SentinelがDefender ポータルにオンボードされた後、Microsoft Sentinelアラートのインシデントへの追加・削除はDefender ポータルでのみサポートされる」

質問#91 トピック3

Microsoft Sentinelワークスペースで、サインインログにユーザーとエンティティの行動分析（UEBA）が有効になっています。  
  
対話型サインインの失敗を確実に検出する必要があります。ソリューションは管理の手間を最小限に抑える必要があります。  
  
どのようなソリューションを使用すべきでしょうか？

- A. スケジュールされたアラートクエリ
- B. アクティビティログデータコネクタ
- C. UEBAアクティビティテンプレート
- D. 狩猟に関する質問

**正解：** C [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/22/#)  

**解説:**
対話型サインインの失敗（Anomaly）を、最小限の管理手間で検出する方法です。
**「UEBA activity template (UEBA アクティビティテンプレート)」**: Sentinelには「Analytics rule templates」として、UEBAデータを活用した異常検知ルール（例: "Anomalous sign-in detected" など）が用意されています。これを使用することで、ゼロからクエリを書く手間を省き、UEBAの成果を活用して異常なサインイン失敗などを検出できます。

質問#94 トピック3

Azureサブスクリプションを4つ持っています。サブスクリプションの1つにはMicrosoft Sentinelワークスペースが含まれています。Azure Policyを使用してサブスクリプションからデータを収集するには、Microsoft Sentinelデータコネクタをデプロイする必要があります。このソリューションでは、サブスクリプション内の新規および既存のリソースにポリシーが適用されるようにする  
  
必要があります。すべてのリソースを確実に監視するには、どのタイプのコネクタをプロビジョニングし、何を使用する必要がありますか？回答するには、回答エリアで適切なオプションを選択してください。  
  
注：正解は1つにつき1ポイントです。  
  
![](https://img.examtopics.com/sc-200/image231.png)

**正解:** ![](https://img.examtopics.com/sc-200/image232.png)

**解説:**
このソリューションは、Azure Policy を利用して、環境内のリソース（既存および将来作成されるもの）に対して、自動的に Microsoft Sentinel（Log Analytics ワークスペース）へのログ送信設定を適用することを目的としています。

1. なぜ `Diagnostic settings` なのか？

- **Azure の標準的な収集手法:** Azure サブスクリプション内の各サービス（Activity Log や各リソースのメトリック/ログ）を Sentinel に取り込む場合、**診断設定（Diagnostic settings）** 経由のコネクタが一般的に使用されます。

- **ポリシーとの親和性:** 多くの Azure サービス用コネクタは、Azure Policy を使用してこの診断設定を一括デプロイする仕組みを内蔵しています。

1. なぜ `A remediation task` なのか？

- **既存リソースへの対応:** Azure Policy を割り当てただけでは、ポリシー適用「後」に作成された新規リソースには設定が反映されますが、**既に存在しているリソース**には反映されません。

- **強制的な適用:** 既存のリソースに対してポリシーを遡及的に適用し、非準拠のリソースを自動的に修正（診断設定を追加）するには、**修復タスク（Remediation task）** を作成・実行する必要があります。

---

#### 設定のイメージ

Sentinel のコネクタページ（例：Azure Activity）から「Azure Policy 割り当てウィザード」を起動した際、[Remediation（修復）] タブで 「Create a remediation task」のチェックを入れることで、既存のサブスクリプション内のリソースも監視対象に含めることができます。

質問#95 トピック3

Microsoft Sentinel ワークスペースが 50 個あります。Azure ポータルの 1 つのページで、すべてのワークスペースのすべてのインシデントを確認する必要があります。このソリューションでは、管理の手間を最小限に抑える必要があります。Azure ポータルのどのページを使用すればよいでしょうか。

- A. Microsoft Sentinel - インシデント
- B. Microsoft Sentinel - ワークブック
- C. マイクロソフトセンチネル
- D. Log Analytics ワークスペース

**正解：** A [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/23/#)  

**解説:**
50個のワークスペースのインシデントを一元的に管理する方法です。
**「Microsoft Sentinel - Incidents (インシデント)」**: Sentinelのポータルには「複数ワークスペースの表示」機能があります。インシデントブレードのフィルタで複数のワークスペースを選択するだけで、それらのワークスペースのすべてのインシデントを1つのリストに統合表示できます。特別な設定不要で、管理の手間が最小限です。

質問#108 トピック3

Microsoft Defender XDR を使用する Microsoft 365 サブスクリプションをご利用です。  
  
インシデントを調査しており、実行されたインシデントタスクを確認する必要があります。ソリューションには、インシデントをワークブックに表示し、各インシデントのタスクを別のグリッドに表示するクエリを含める必要があります。  
  
クエリではどのテーブルをターゲットにすればよいでしょうか？

- A. セキュリティインシデント
- B. セキュリティイベント
- C. センチネル監査
- D. セキュリティアラート

**正解：** A [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/24/#)  

**解説:**
インシデント内で実行された「タスク（手動アクション、自動修復など）」を確認するためのクエリ対象です。
**「SecurityIncident」**: Sentinelの `SecurityIncident` テーブルには、インシデント自体のメタデータだけでなく、インシデントの更新履歴やステータス変更などが記録されます。ただし、厳密な「実行されたタスク（修復アクションなど）」の詳細履歴は `DeviceEvents` (ActionType) や `SecurityAction` などのテーブルにある場合もありますが、選択肢の中ではインシデント中心のビューを作るための起点として `SecurityIncident` が最も適切です。あるいは、インシデントに関連付けられたコメントやタスクリストの情報を指している可能性もあります。

質問6 トピック4

次の表に示すリソースがあります。
Microsoft Defender for Cloud を使用する Azure サブスクリプションがあります。VM1 と Server1 を保護するには、Defender for Cloud を使用する必要があります。ソリューションは、以下の要件を満たす必要があります。
![](https://img.examtopics.com/sc-200/image265.png)  
  
• Advanced Threat Protection と脆弱性評価をサポートする。  
• 各 SQL Server 2022 インスタンスを SQL 仮想マシンとして登録する。  
• 実装と管理の手間を最小限に抑える。  
  
各サーバーに何を展開すればよいでしょうか。回答するには、回答領域から適切なオプションを選択してください。  
  
注: 正しい選択はそれぞれ 1 ポイントです。  
  
![](https://img.examtopics.com/sc-200/image266.png)

### 回答

各サーバーに展開すべきものは以下の通りです:

**VM1（Azure仮想マシン上のSQL Server）:**

- **An Azure virtual machine extension**

**Server1（オンプレミスサーバー - Azure Arcにオンボード済み）:**

- **The Azure Monitor Agent and an Azure virtual machine extension**

### 解説

#### VM1（Azure VM上のSQL Server）の場合

**必要なもの:**

- **Azure仮想マシン拡張機能のみ**

**理由:**

1. VM1は既にAzure仮想マシンなので、Azure Monitor Agentは不要
2. Defender for SQLに必要な拡張機能:
    - **Defender for SQL (IaaS)** 拡張機能
    - **SQL IaaS Extension**（SQL仮想マシンとして登録するため）
3. これらの拡張機能により:
    - Advanced Threat Protection
    - 脆弱性評価
    - SQL Serverインスタンスの自動登録

#### Server1（オンプレミス - Azure Arc対応）の場合

**必要なもの:**

- **Azure Monitor Agent（AMA）** AND **Azure仮想マシン拡張機能**

**理由:**

Microsoft Learn Docsによると:

> "Some of the services provided by SQL Server enabled by Azure Arc, such as Microsoft Defender for Cloud and best practices assessment, require the **Azure Monitoring agent (AMA) extension** to be installed and connected to an Azure Log Analytics workspace for data collection and reporting."

1. **Azure Monitor Agent（AMA）が必要:**
    - Defender for SQLのポスチャー評価にはAMAが必須
    - セキュリティ関連の構成とイベントログの収集
    - Log Analyticsワークスペースへのデータ送信
2. **Azure仮想マシン拡張機能も必要:**
    - **Defender for SQL (Arc)** 拡張機能
    - **Azure Extension for SQL Server**（Azure Arc用）
    - Advanced Threat Protection機能の提供
    - SQL Serverインスタンスの登録

### 要件の満たし方

✓ **Advanced Threat Protectionと脆弱性評価**: 両方の拡張機能で提供 ✓ **SQL仮想マシンとしての登録**: SQL IaaS Extension（VM1）とAzure Extension for SQL Server（Server1）で対応 ✓ **実装と管理の手間を最小限**: 自動プロビジョニング機能により簡素化

### 不正解の選択肢

- **Log Analytics agent**: 非推奨（2024年8月に廃止）、Azure Monitor Agentに置き換えられた
- VM1にAzure Monitor Agent: Azure VMには不要（拡張機能のみで十分）

したがって、正解は:

- **VM1**: Azure virtual machine extension
- **Server1**: Azure Monitor Agent AND Azure virtual machine extension

質問#20 トピック4

Microsoft 365 E5 サブスクリプションがあり、Group1 と Group2 という 2 つのグループが含まれており、Microsoft Copilot for Security を使用しています。Copilot for Security のロール割り当てを以下の要件を満たすように構成する必要があります。  
  
• Group1 のメンバーがプロンプトを実行し、Microsoft Defender XDR セキュリティ インシデントに応答できるようにします。  
• Group2 のメンバーがプロンプトを実行できるようにします。  
• 最小権限の原則に従います。
• Copilot 共同作成者ロールから Everyone を削除します。  
  
次に実行する必要がある 2 つのアクションはどれですか。正解はそれぞれソリューションの一部です。  
  
注: 正解はそれぞれ 1 ポイントです。

- A. グループ 1 にセキュリティ オペレータ ロールを割り当てます。
- B. グループ 2 に副操縦士所有者の役割を割り当てます。
- C. グループ1に副操縦士オーナーの役割を割り当てる
- D. グループ2にセキュリティ オペレータ ロールを割り当てます。
- E. Copilot Contributor ロールを Group2 に割り当てます。

**正解:** AE [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/26/#)  

**解説:**
Copilot for Securityのロール割り当て（最小権限）です。

1. **Group1 (execute prompts and respond to incidents)**: **「Security Operator」**（または選択肢A）。本来、CopilotのロールとEntraロールは別ですが、Copilotの使用権限（Contributor）と、XDRでのインシデント対応権限（Security Operator）はセットで考える必要があります。Copilot ContributorだけではXDRのアクション（インシデントクローズなど）は実行できません。また、質問文の「Security Operator role」はEntra IDのロールを指しており、これによりXDRへのアクセス権が付与されます。CopilotへのアクセスにはContributorロールが必要です。
2. **Group2 (execute prompts only)**: **「Copilot Contributor」**（選択肢E）。プロンプトを実行するだけであれば、Copilot Contributorロールが適切です（Ownerは過剰）。

ただし、選択肢の構成として「Copilot用のロール」と「Entra/Defender用のロール」が混在している場合：

- Group1: XDR操作も必要 -> Security Operator (A) でXDR権限を持ち、かつCopilotも使える（Copilotロールが別途必要だが、選択肢にない場合はSecurity Operatorに含まれる権限や、併用を示唆）。もしCopilot固有ロールで選ぶならContributorだが、XDR対応要件があるのでSecurity Operatorが優先か、あるいは両方必要。設問が「2つのアクション」を求めているので、Group1用に1つ、Group2用に1つを選ぶなら AとE。
※公式ドキュメントでは、Security Operatorロールを持つユーザーはCopilotを使用可能です（もちろんCopilotのアクセス権設定次第ですが）。

質問#22 トピック4
  
App1というバックグラウンドプロセスを実行し、Azure Connected MachineエージェントがインストールされたオンプレミスのLinuxサーバーがあります。
WS1 というMicrosoft Sentinelワークスペースがあります。
AMA コネクタ経由のSyslogを使用してApp1に関連するメッセージを収集する、DCR1というデータ収集ルール（DCR）を構成する必要があります。ソリューションは次の要件を満たす必要があります。  
  
• 優先度が「重大」のメッセージのみを収集する。  
• 収集するデータの量を最小限に抑える。

DCR1 には、どの機能とログレベルを構成する必要がありますか？
回答するには、回答領域で適切なオプションを選択してください。  
  
注：正しい選択ごとに1ポイントが付与されます。  
  
![](https://img.examtopics.com/sc-200/image357.png)

**正解:** ![](https://img.examtopics.com/sc-200/image358.png)

**解説:**
この問題のポイントは、Linux の標準的な Syslog ファシリティの理解と、収集されるログレベルの階層構造（重大度）にあります。

1. Facility: なぜ LOG_DAEMON なのか

- **バックグラウンドプロセス:** 問題文にある「App1」はバックグラウンドプロセスとして実行されています。Linux において、特定のカテゴリ（認証、cron、カーネルなど）に属さないシステムサービスやバックグラウンドプロセス（デーモン）のメッセージは、通常 **`LOG_DAEMON`** ファシリティを使用して出力されます。

- 他の選択肢（`LOG_AUTH` = 認証、`LOG_CRON` = 定時実行、`LOG_KERN` = カーネル）は用途が限定されているため、汎用的なバックグラウンドプロセスには適しません。

1. Log level: なぜ LOG_ERR なのか

Syslog の重大度は、数値が小さいほど緊急度が高くなります。Microsoft Sentinel の DCR 構成でログレベルを選択する場合、通常は「選択したレベル以上の重大度（数値がそれ以下のもの）」が収集されます。

|**重大度 (Severity)**|**レベル名**|**内容**|
|---|---|---|
|0|Emergency|システムが使用不能|
|1|Alert|直ちに行動が必要|
|**2**|**Critical**|**重大な状態（今回のターゲット）**|
|3|Error|エラー状態|
|4|Warning|警告状態|

- **要件の充足:** 今回の要件は「優先度が『Critical（レベル 2）』のメッセージを収集する」ことです。

- **選択肢の比較:**

  - **`LOG_EMERG` (0):** これを選択するとレベル 0 のみ収集され、レベル 2 の **Critical メッセージが漏れてしまいます**。

  - **`LOG_ERR` (3):** これを最小レベルとして選択すると、3 (Error), **2 (Critical)**, 1 (Alert), 0 (Emergency) が収集されます。選択肢の中で、Critical を含みつつ、データの量を最小限（`LOG_WARN` や `LOG_DEBUG` よりも絞る）に抑えることができるのはこのレベルです。

質問#24 トピック4

Microsoft 365 E5 サブスクリプションをお持ちです。
Microsoft Defender for Cloud Apps によって生成されたシグナルを使用するように、Microsoft Defender XDR の自動攻撃阻止を構成する必要があります。Microsoft Defender ポータルで Defender for Cloud Apps に対して実行する必要がある 2 つのアクションはどれですか？ 正解はそれぞれ解答の一部です。  
  
注: 正解は 1 点です。

- A. Microsoft 365 コネクタを有効にします。
- B. 自動ログアップロード用のログコレクターを追加します。
- C. アプリガバナンスをオンにします。
- D. Cloud Discovery ユーザー エンリッチメントを展開します。
- E. 情報保護から、ファイル監視を有効にします。

**正解:** AC [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/26/#)  

**解説:**
Defender XDRの「自動攻撃阻止（Automatic Attack Disruption）」が、Defender for Cloud Appsのシグナルを使用できるようにするための設定です。

1. **Enable Microsoft 365 connector (A)**: Defender for Cloud AppsをMicrosoft 365（XDR）と接続することで、アラートやシグナルの共有が可能になります。これが前提条件です。
2. **Switch on App governance (C)**: アプリガバナンス（App Governance）を有効にすることで、OAuthアプリの異常な動作や過剰な権限行使などのシグナルがXDRに供給され、攻撃阻止（例えば、悪意あるアプリの無効化やユーザーアカウントの停止）のトリガーとして使用されます。

質問#28 トピック4
  
Microsoft Sentinel ワークスペースがあります。  
  
以下の要件を満たすプレイブックを作成する必要があります。  
  
• 自動化ルールを使用して、エンティティに対してアクションをトリガーする。  
• 「エンティティ - ホストの取得」アクションを呼び出す。  
  
どの種類のプレイブックを使用し、どのパラメーターを指定する必要がありますか？回答するには、回答エリアで適切なオプションを選択してください。  
  
注：正解は1つにつき1ポイントです。  
  
![](https://img.examtopics.com/sc-200/image368.png)

### **回答エリアの選択**

- **Playbook types（プレイブックの種類）:** * **Only a playbook that uses an incident trigger and a playbook that uses an alert trigger only**
  - （インシデントトリガーを使用するプレイブック、およびアラートトリガーのみを使用するプレイブックのみ）

- **Parameters（パラメーター）:** * **Alert and FullIncidentProperties only**
  - （AlertおよびFullIncidentPropertiesのみ）

---

#### **解説**

1. プレイブックの種類について

Microsoft Sentinelの**自動化ルール（Automation rules）**は、以下の条件が発生したときにプレイブックを実行できます。

- インシデントの作成時
- インシデントの更新時
- アラートの作成時

そのため、自動化ルールに関連付けられるプレイブックは、**「Microsoft Sentinel インシデントトリガー」**または**「Microsoft Sentinel アラートトリガー」**を使用している必要があります。 「エンティティトリガー」を使用するプレイブックは、エンティティページなどからの**手動実行**を目的としたものであり、自動化ルールから直接トリガーすることはできません。

1. パラメーターについて

プレイブック内で「エンティティ - ホストの取得（Get - Entities (Host)）」などのアクションを呼び出すには、トリガーとなったイベントからエンティティ情報を抽出する必要があります。

- インシデントトリガーの場合、**FullIncidentProperties**（インシデントの全プロパティ）にエンティティ情報が含まれます。
- アラートトリガーの場合、**Alert**（アラート）オブジェクトにエンティティ情報が含まれます。

したがって、自動化ルールを介してこれらの情報を処理するためには、これらのパラメーターが指定されている必要があります。

質問#29 トピック4
  
contoso.com という Microsoft Entra テナントにリンクされた Sub1 という Azure サブスクリプションがあります。Contoso.com には User1 というユーザーがいます。Sub1 には Microsoft Sentinel ワークスペースがあります。Microsoft Copilot for Security のキャパシティをプロビジョニングします。User1 が Copilot for Security を使用して以下のタスクを実行できるようにする必要があります。  
  
• データ共有およびフィードバックのオプションを更新する。  
• Microsoft Sentinel のインシデントを調査する。  
  
ソリューションは、最小権限の原則に従う必要があります。  
  
各タスクにおいて、User1 にどのロールを割り当てる必要がありますか？ 回答するには、回答領域で適切なオプションを選択してください。  
  
注: 正しい選択はそれぞれ 1 ポイントです。  
  
![](https://img.examtopics.com/sc-200/image370.png)

**正解:** ![](https://img.examtopics.com/sc-200/image371.png)

**解説:**

1. データ共有およびフィードバックのオプションの更新**

Microsoft Copilot for Security の設定（データ共有プロンプト、フィードバック、テナント設定など）を管理するには、**管理者権限**が必要です。

- **Security Administrator（セキュリティ管理者）** または **Global Administrator（グローバル管理者）** は、デフォルトで Copilot for Security の「所有者」権限を持ち、これらの設定を構成できます。
- 「最小権限の原則」に従う場合、全権限を持つグローバル管理者ではなく、**Security Administrator** を選択するのが適切です。
- Security Operator（セキュリティ オペレーター）は、ツールの利用は可能ですが、テナント全体の共有設定などを変更する権限は持ちません。

1. Microsoft Sentinel インシデントの調査**

Copilot for Security を通じて Microsoft Sentinel のデータにアクセスし、インシデントの調査を行うには、Sentinel ワークスペース側で適切な権限が必要です。

- **Microsoft Sentinel Responder（Microsoft Sentinel 応答者）**：インシデントの表示、割り当て、ステータスの変更、および調査を行うことができます。「調査（Investigate）」という要件を満たすための最小権限のロールです。
- **Microsoft Sentinel Reader（Microsoft Sentinel 閲覧者）**：データの表示は可能ですが、インシデントの調査（アクションの実行）には不十分です。
- **Cloud App Security Administrator**：Microsoft Defender for Cloud Apps に特化したロールであり、Sentinel 全体のインシデント調査には適していません。

質問#31 トピック4

Microsoft 365 E5 サブスクリプションをお持ちです。Windows デバイスで PowerShell を使用して Microsoft Purview 監査ログを検索する必要があります。  
  
まず何をすればよいでしょうか？

- A. Microsoft Graph PowerShell モジュールをインストールします。
- B. PowerShell リモート処理を有効にします。
- C. Microsoft Exchange Online PowerShell モジュールをインストールします。
- D. TrustedHosts リストを変更します。

**正解：** C [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/27/#)  

**解説:**
PowerShellを使用してMicrosoft Purview（旧コンプライアンス）監査ログを検索するための前提条件です。
**「Install the Microsoft Exchange Online PowerShell module」**: 監査ログ検索コマンドレット `Search-UnifiedAuditLog` は、**Exchange Online PowerShell** モジュールに含まれています。これを使用するために、モジュールのインストールとExchange Onlineへの接続が必要です。

質問#32 トピック4
  
Microsoft 365 サブスクリプションをお持ちです。サブスクリプションには、Microsoft Defender for Endpoint にオンボードされている Windows 11 デバイスが 500 台含まれています。  
  
次の要件を満たすように Defender for Endpoint を構成する必要があります。  
  
• セキュリティ運用アナリストがクライアントコンピューターで PowerShell スクリプトを実行できるようにする。  
• クライアントコンピューター上の脅威の自動修復を実行する。

Microsoft Defender XDR ポータルで構成する必要があるエンドポイント設定はどれですか？回答するには、回答領域で適切なオプションを選択してください。  
  
注: 正解は 1 点です。  
  
![](https://img.examtopics.com/sc-200/image444.png)

#### **回答エリアの選択**

- **To ensure that the analysts can run PowerShell script（アナリストが PowerShell スクリプトを実行できるようにする）:**
  - **Live Response in Advanced features**（高度な機能のライブ応答）

- **To perform the automatic remediation of threats（脅威の自動修復を実行する）:**
  - **Device groups**（デバイス グループ）

---

#### **解説**

1. PowerShell スクリプトの実行（Live Response）**

セキュリティ運用アナリストがリモートからデバイスに対して PowerShell スクリプトを実行したり、調査コマンドを走らせたりするには、**ライブ応答（Live Response）**機能を有効にする必要があります。

- **設定箇所:** [設定] > [エンドポイント] > [高度な機能] 内にある「Live Response」および「Live Response unsigned script execution（未署名のスクリプト実行）」をオンにします。
- これにより、アナリストは「ライブ応答セッション」を開始し、ライブラリにアップロードしたスクリプトを実行できるようになります。

1. 脅威の自動修復（Automatic Remediation）**

Defender for Endpoint では、デバイスごとにどの程度の自動化を許可するか（完全な自動修復、承認が必要な修復、修復なしなど）を**デバイスグループ**単位で設定します。

- **設定箇所:** [設定] > [エンドポイント] > [デバイス グループ] を作成または編集し、**「自動化レベル（Automation level）」**を「Full - remediate threats automatically（完全 - 脅威を自動的に修復する）」に設定します。
- 特定のデバイスセット（この場合は Windows 11 デバイス）に対してこのレベルを適用することで、検知された脅威が人間の介入なしに自動的に処理されるようになります。
