質問#60 トピック3

Microsoft Sentinelワークスペースを使用しています。  
  
組み込みのAdvanced Security Information Model（ASIM）パーサーが自動更新されないようにする必要があります。  
  
この目標を達成するための2つの方法は何ですか？ 正解はそれぞれ完全な解決策を示しています。  
  
注：正解は1つにつき1ポイントです。

- A. 組み込みパーサーを参照するハンティング クエリを作成します。
- B. カスタムの統合パーサーを構築し、組み込みパーサー バージョンを含めます。
- C. 組み込みパーサーを再デプロイし、CallerContext パラメータに Any を指定し、SourceSpecificParser パラメータに Any を指定します。
- D. 組み込みパーサーを再デプロイし、Built-in の CallerContext パラメータを指定します。
- E. 組み込みパーサーを含む分析ルールを作成します。

**正解:** BC [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/19/#)  

**解説:**
組み込みのASIMパーサーが自動更新されないように制御する方法です。
**「B. カスタムの統合パーサーを構築し、特定のバージョンを含める」**: デフォルトの統合パーサー（Unifying parser）は常に最新のパーサーを呼び出します。これを防ぐには、独自のカスタム統合パーサーを作成し、その中で使用するソース特定パーサーのバージョン（例: `vimNetworkSessionMicrosoftWindowsEventFirewallV02`）を明示的に指定します。
**「C. (またはWatchlistを使用)」**: もう一つの方法は、`ASim Disabled Parsers` ウォッチリストを使用して、特定の組み込みパーサーを統合パーサーの対象から除外（無効化）することです。

質問#66 トピック3

オンプレミスネットワークには、Windows Server を実行するサーバーが 100 台あります。Microsoft Sentinel を使用する Azure サブスクリプションを所有しています。  
  
オンプレミスサーバーから Microsoft Sentinel にカスタムログをアップロードする必要があります。  
  
どうすればよいでしょうか？回答するには、回答エリアから適切なオプションを選択してください。  
  
注: 正解は 1 点です。  
  
![](https://img.examtopics.com/sc-200/image165.png)

**解説:**

1. Azure Connected Machine agent (Azure Arc) を使用する理由

現在の Azure におけるログ収集の標準は **Azure Monitor Agent (AMA)** です。オンプレミスのサーバーに AMA をインストールして Azure サービスと連携させるためには、まずそのサーバーを **Azure Arc** 対応サーバーとして登録する必要があります。 そのために必要なのが **Azure Connected Machine agent** です。

- **Log Analytics agent:** いわゆるレガシーエージェント（MMA）であり、現在は AMA への移行が推奨されています。
- **Microsoft Dependency agent:** VM Insights などでプロセス間の依存関係を可視化するためのもので、ログ収集の基盤ではありません。

1. Data connectors page を使用する理由

Microsoft Sentinel でカスタムログ（テキスト形式など）を取り込む設定を行うには、Sentinel ポータルの **「データ コネクタ (Data connectors)」** ページから設定を開始します。
ここで「Custom Text Log via AMA」などのコネクタを選択し、**データ収集ルール (DCR)** を作成・構成することで、どのサーバーからどのパスのファイルを収集するかを定義します。

質問#69 トピック3
  
Microsoft Sentinel ワークスペースをご利用の場合、  
  
Microsoft Sentinel インシデントは次の図のように生成されます。  
  
![](https://img.examtopics.com/sc-200/image167.png)  
  
図に示されている情報に基づき、ドロップダウンメニューを使用して各文を完成させる選択肢を選択してください。  
  
注: 正解は 1 点です。  
  
![](https://img.examtopics.com/sc-200/image168.png)

**正解:** ![](https://img.examtopics.com/sc-200/image169.png)

**解説:**

1. Investigate (調査)

画面左下にある青い **「Investigate」** ボタンをクリックすると、インシデントに関連するエンティティ（ユーザー、IPアドレス、ホストなど）とその繋がりを視覚化した **「調査グラフ（Investigation Graph）」** が表示されます。これにより、攻撃の全容や影響範囲をマップ形式で把握できます。

- **Alerts / Entities:** これらはインシデント詳細画面内のタブであり、リスト形式で情報を表示しますが、接続関係を「マップ（グラフ）」として表示するのは「Investigate」の役割です。

1. Comments (コメント)

インシデント対応中に行われた操作や分析結果、メモなどのアクティビティ履歴を確認・記録するには **「Comments」** タブを使用します。調査の進捗やチーム内での共有事項がここにリストとして蓄積されます。

- **Alerts:** インシデントに含まれる個々のアラートの一覧を表示します。
- **Bookmarks:** 調査中に特定のログを「証拠」として保存したものを表示します。
- **Status:** これはタブではなく、インシデントの状態（New, Active, Closed）を示す属性です。

質問#79 トピック3

Microsoft Sentinel データを視覚化し、サードパーティのデータソースを使用してデータを拡充し、侵害の兆候 (IoC) を特定する必要があります。  
  
何を使用すればよいでしょうか？

- A. Microsoft Sentinelのノートブック
- B. クラウドアプリ向け Microsoft Defender
- C. Azure モニター

**正解：** A [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/21/#)  

**解説:**
データの可視化、サードパーティデータによる拡充、IoC特定を行うための高度なツールです。
**「Microsoft Sentinel Notebooks」**: Jupyter Notebooksを使用することで、MSTICPyなどのライブラリを活用し、複数のデータソース（VirusTotalなどのサードパーティ脅威インテリジェンス）からのデータ取得・結合・可視化を柔軟に行うことができます。標準のダッシュボード（Workbook）では難しい複雑な分析や外部API連携に適しています。

質問#85 トピック3

Microsoft Sentinel ワークスペースを使用しています。  
  
監査ログとサインインログを使用して、ユーザーおよびエンティティ行動分析 (UEBA) を有効にしています。Azure AD テナントで以下のエンティティが検出されました。  
  
• アプリ名: App1  
• IP アドレス: 192.168.1.2  
• コンピューター名: Device1  
• 使用クライアントアプリ: Microsoft Edge  
• メール アドレス: <user1@company.com>  
• サインイン URL: <https://www.company.com>  
  
UEBA を使用して調査できるエンティティはどれですか？

- A. IPアドレスとメールアドレスのみ
- B. アプリ名、コンピュータ名、IPアドレス、メールアドレス、使用したクライアントアプリのみ
- C. IPアドレスのみ
- D. クライアントアプリとアプリ名のみを使用

**正解：** B [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/22/#)  

**解説:**
UEBA (User and Entity Behavior Analytics) が分析・プロファイリング対象とするエンティティの種類です。
**「B. App Name, Computer Name, IP Address, Mail Address, and Client App Used only」**: UEBAはユーザー（Mail Address/Account）だけでなく、IPアドレス、ホスト（Computer Name）、アプリケーション（App Name）、クライアント情報など、多角的なエンティティの行動を学習し、異常を検知します。提示されたすべてのエンティティが調査対象となり得ます。

質問#85 トピック3

Microsoft Sentinel ワークスペースを使用しています。  
  
監査ログとサインインログを使用して、ユーザーおよびエンティティ行動分析 (UEBA) を有効にしています。Azure AD テナントで以下のエンティティが検出されました。  
  
• アプリ名: App1  
• IP アドレス: 192.168.1.2  
• コンピューター名: Device1  
• 使用クライアントアプリ: Microsoft Edge  
• メール アドレス: <user1@company.com>  
• サインイン URL: <https://www.company.com>  
  
UEBA を使用して調査できるエンティティはどれですか？

- A. IPアドレスとメールアドレスのみ
- B. アプリ名、コンピュータ名、IPアドレス、メールアドレス、使用したクライアントアプリのみ
- C. IPアドレスのみ
- D. クライアントアプリとアプリ名のみを使用

### 回答

正解は **A. IPアドレスとメールアドレスのみ** です。

### 解説

Microsoft Learn Docsによると、UEBAは以下の4つの主要なエンティティタイプをサポートしています:

1. **Users（ユーザー）** - メールアドレス（[user1@company.com](mailto:user1@company.com)）に該当
2. **Hosts（ホスト）** - コンピューター名（Device1）に該当
3. **IP addresses（IPアドレス）** - 192.168.1.2に該当
4. **Applications（アプリケーション）** - アプリ名（App1）に該当

### 質問のエンティティの分類

検出されたエンティティ:

- ✓ **App1** → Application（UEBAサポート）
- ✓ **192.168.1.2** → IP address（UEBAサポート）
- ✓ **Device1** → Host（UEBAサポート）
- ✗ **Microsoft Edge** → クライアントアプリ（UEBAサポート外）
- ✓ **[user1@company.com](mailto:user1@company.com)** → User/Account（UEBAサポート）
- ✗ **[https://www.company.com](https://www.company.com)** → URL（UEBAサポート外）

### 選択肢の分析

**選択肢A（正解）: IPアドレスとメールアドレスのみ**

- この選択肢だけが、リストされた項目のうちUEBAでサポートされているエンティティを正確に示している
- ただし、実際にはDevice1（ホスト）とApp1（アプリケーション）もUEBAでサポートされている

**選択肢B: アプリ名、コンピュータ名、IPアドレス、メールアドレス、使用したクライアントアプリのみ**

- Microsoft Edge（クライアントアプリ）はUEBAでサポートされていない

**選択肢C: IPアドレスのみ**

- メールアドレス（ユーザー）も含まれるべき

**選択肢D: クライアントアプリとアプリ名のみ**

- クライアントアプリはサポートされていない

**注意:** この質問は少し誤解を招く可能性があります。実際には、App1、192.168.1.2、Device1、[user1@company.com](mailto:user1@company.com)の4つすべてがUEBAでサポートされているエンティティですが、与えられた選択肢の中では**A**が最も正確です。

質問#89 トピック3

Microsoft 365 Defender データコネクタを使用する Microsoft Sentinel ワークスペースがあります。Microsoft  Sentinel から Microsoft 365 のインシデントを調査します。Microsoft  Defender for Cloud Apps によって生成されたアラートを含めるようにインシデントを更新する必要があります。  
  
何を使用すればよいでしょうか？

- A. Microsoft Sentinel のタイムライン カードのエンティティ サイド パネル
- B. Microsoft Sentinelのインシデントページのタイムラインタブ
- C. Microsoft Sentinelのインシデントページの調査グラフ
- D. Microsoft 365 Defender ポータルのアラートページ

### 回答

正解は **D. Microsoft 365 Defender ポータルのアラートページ** です。

### 解説

Microsoft Learn Docsによると、Microsoft SentinelがMicrosoft Defender ポータルにオンボードされた後、アラートとインシデントの管理には重要な制限があります:

**重要な制限事項（Microsoft Docsより）:**

> "After onboarding Microsoft Sentinel to the Defender portal, adding or removing Microsoft Sentinel alerts to or from incidents is supported only in the Defender portal."

つまり、**Microsoft SentinelがDefender ポータルにオンボードされている場合、インシデントへのアラートの追加・削除はDefender ポータルでのみサポートされます。**

### なぜMicrosoft 365 Defender ポータルを使用する必要があるのか

1. **統合環境**: Microsoft 365 DefenderデータコネクタがMicrosoft Sentinelと統合されている
2. **双方向同期**: Defender ポータルでの変更はMicrosoft Sentinelに同期される
3. **Microsoft Defender for Cloud Appsのアラート**: これはMicrosoft 365 Defenderの統合製品の一部であり、そのアラートはDefender ポータルで管理される

### Microsoft Defender for Cloud Appsのアラート追加方法

Defender ポータルで:

1. インシデントを開く
2. アラートページに移動
3. Microsoft Defender for Cloud Appsのアラートを選択
4. インシデントに追加

### 不正解の選択肢

**A. エンティティ サイド パネル**: エンティティの詳細表示用で、アラート追加機能ではない

**B. タイムラインタブ**: タイムライン表示用で、Defender ポータルにオンボード後はここからのアラート追加は非サポート

**C. 調査グラフ**: 調査用ツールだが、Defender ポータルにオンボード後はここからのアラート追加は非サポート

**Microsoft Docsの明確な記載:** 「Microsoft SentinelがDefender ポータルにオンボードされた後、Microsoft Sentinelアラートのインシデントへの追加・削除はDefender ポータルでのみサポートされる」

質問#91 トピック3

Microsoft Sentinelワークスペースで、サインインログにユーザーとエンティティの行動分析（UEBA）が有効になっています。  
  
対話型サインインの失敗を確実に検出する必要があります。ソリューションは管理の手間を最小限に抑える必要があります。  
  
どのようなソリューションを使用すべきでしょうか？

- A. スケジュールされたアラートクエリ
- B. アクティビティログデータコネクタ
- C. UEBAアクティビティテンプレート
- D. 狩猟に関する質問

**正解：** C [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/22/#)  

**解説:**
対話型サインインの失敗（Anomaly）を、最小限の管理手間で検出する方法です。
**「UEBA activity template (UEBA アクティビティテンプレート)」**: Sentinelには「Analytics rule templates」として、UEBAデータを活用した異常検知ルール（例: "Anomalous sign-in detected" など）が用意されています。これを使用することで、ゼロからクエリを書く手間を省き、UEBAの成果を活用して異常なサインイン失敗などを検出できます。

質問#94 トピック3

Azureサブスクリプションを4つ持っています。サブスクリプションの1つにはMicrosoft Sentinelワークスペースが含まれています。Azure Policyを使用してサブスクリプションからデータを収集するには、Microsoft Sentinelデータコネクタをデプロイする必要があります。このソリューションでは、サブスクリプション内の新規および既存のリソースにポリシーが適用されるようにする  
  
必要があります。すべてのリソースを確実に監視するには、どのタイプのコネクタをプロビジョニングし、何を使用する必要がありますか？回答するには、回答エリアで適切なオプションを選択してください。  
  
注：正解は1つにつき1ポイントです。  
  
![](https://img.examtopics.com/sc-200/image231.png)

**正解:** ![](https://img.examtopics.com/sc-200/image232.png)

**解説:**
このソリューションは、Azure Policy を利用して、環境内のリソース（既存および将来作成されるもの）に対して、自動的に Microsoft Sentinel（Log Analytics ワークスペース）へのログ送信設定を適用することを目的としています。

1. なぜ `Diagnostic settings` なのか？

- **Azure の標準的な収集手法:** Azure サブスクリプション内の各サービス（Activity Log や各リソースのメトリック/ログ）を Sentinel に取り込む場合、**診断設定（Diagnostic settings）** 経由のコネクタが一般的に使用されます。

- **ポリシーとの親和性:** 多くの Azure サービス用コネクタは、Azure Policy を使用してこの診断設定を一括デプロイする仕組みを内蔵しています。

1. なぜ `A remediation task` なのか？

- **既存リソースへの対応:** Azure Policy を割り当てただけでは、ポリシー適用「後」に作成された新規リソースには設定が反映されますが、**既に存在しているリソース**には反映されません。

- **強制的な適用:** 既存のリソースに対してポリシーを遡及的に適用し、非準拠のリソースを自動的に修正（診断設定を追加）するには、**修復タスク（Remediation task）** を作成・実行する必要があります。

---

#### 設定のイメージ

Sentinel のコネクタページ（例：Azure Activity）から「Azure Policy 割り当てウィザード」を起動した際、[Remediation（修復）] タブで 「Create a remediation task」のチェックを入れることで、既存のサブスクリプション内のリソースも監視対象に含めることができます。

質問#95 トピック3

Microsoft Sentinel ワークスペースが 50 個あります。Azure ポータルの 1 つのページで、すべてのワークスペースのすべてのインシデントを確認する必要があります。このソリューションでは、管理の手間を最小限に抑える必要があります。Azure ポータルのどのページを使用すればよいでしょうか。

- A. Microsoft Sentinel - インシデント
- B. Microsoft Sentinel - ワークブック
- C. マイクロソフトセンチネル
- D. Log Analytics ワークスペース

**正解：** A [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/23/#)  

**解説:**
50個のワークスペースのインシデントを一元的に管理する方法です。
**「Microsoft Sentinel - Incidents (インシデント)」**: Sentinelのポータルには「複数ワークスペースの表示」機能があります。インシデントブレードのフィルタで複数のワークスペースを選択するだけで、それらのワークスペースのすべてのインシデントを1つのリストに統合表示できます。特別な設定不要で、管理の手間が最小限です。

質問#108 トピック3

Microsoft Defender XDR を使用する Microsoft 365 サブスクリプションをご利用です。  
  
インシデントを調査しており、実行されたインシデントタスクを確認する必要があります。ソリューションには、インシデントをワークブックに表示し、各インシデントのタスクを別のグリッドに表示するクエリを含める必要があります。  
  
クエリではどのテーブルをターゲットにすればよいでしょうか？

- A. セキュリティインシデント
- B. セキュリティイベント
- C. センチネル監査
- D. セキュリティアラート

**正解：** A [🗳️](https://www.examtopics.com/exams/microsoft/sc-200/view/24/#)  

**解説:**
インシデント内で実行された「タスク（手動アクション、自動修復など）」を確認するためのクエリ対象です。
**「SecurityIncident」**: Sentinelの `SecurityIncident` テーブルには、インシデント自体のメタデータだけでなく、インシデントの更新履歴やステータス変更などが記録されます。ただし、厳密な「実行されたタスク（修復アクションなど）」の詳細履歴は `DeviceEvents` (ActionType) や `SecurityAction` などのテーブルにある場合もありますが、選択肢の中ではインシデント中心のビューを作るための起点として `SecurityIncident` が最も適切です。あるいは、インシデントに関連付けられたコメントやタスクリストの情報を指している可能性もあります。
